Ember.TEMPLATES.albums=Ember.Handlebars.template(function(e,t,s,a,n){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var r;r=s._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),n.buffer.push(r||0===r?r:"")}),Ember.TEMPLATES.application=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){t.buffer.push("About")}function h(e,t){t.buffer.push("Catalog")}function o(e,t){var a,n,r,h="";return t.buffer.push("\n        <li>"),n=s["link-to"]||e&&e["link-to"],r={hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(6,l,t),contexts:[e],types:["STRING"],data:t},a=n?n.call(e,"collection",r):b.call(e,"link-to","collection",r),(a||0===a)&&t.buffer.push(a),t.buffer.push('</li>\n         <li><a href="/logout" '),t.buffer.push(m(s.action.call(e,"signOut",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Logout</a></li>\n        "),h}function l(e,t){t.buffer.push("Your Collection")}function i(e,t){var a="";return t.buffer.push('\n         <li><a href="/login" '),t.buffer.push(m(s.action.call(e,"openModal",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push(">Login</a></li>\n        "),a}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var u,c,p,f="",d=this,b=s.helperMissing,m=this.escapeExpression;return n.buffer.push(m((c=s.headTitle||t&&t.headTitle,p={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},c?c.call(t,"Yahara Music Library",p):b.call(t,"headTitle","Yahara Music Library",p)))),n.buffer.push("\n\n"),n.buffer.push(m((c=s.render||t&&t.render,p={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},c?c.call(t,"player",p):b.call(t,"render","player",p)))),n.buffer.push('\n\n<div id="content">\n  <div id="header">\n    <div id=\'logo\'>\n      <img '),n.buffer.push(m(s.action.call(t,"goHome",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}))),n.buffer.push('src="/assets/images/logo-horiz.png" alt="Yahara Music Library" />\n    </div>\n    <div id="nav">\n      <ul class="menu">\n        <li>'),c=s["link-to"]||t&&t["link-to"],p={hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(1,r,n),contexts:[t,t],types:["STRING","STRING"],data:n},u=c?c.call(t,"page","about",p):b.call(t,"link-to","page","about",p),(u||0===u)&&n.buffer.push(u),n.buffer.push("</li>\n        <li>"),c=s["link-to"]||t&&t["link-to"],p={hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(3,h,n),contexts:[t],types:["STRING"],data:n},u=c?c.call(t,"albums",p):b.call(t,"link-to","albums",p),(u||0===u)&&n.buffer.push(u),n.buffer.push("</li>\n        "),u=s["if"].call(t,"authorized",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(8,i,n),fn:d.program(5,o,n),contexts:[t],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push('\n      </ul>\n    </div>\n    <div id="mobile-alpha" class="small-12 columns">Mobile Alpha</div>\n    <div id="mobile-nav" class="small-12 columns">\n      <ul class="mobile-menu">\n        <li>'),c=s["link-to"]||t&&t["link-to"],p={hash:{},hashTypes:{},hashContexts:{},inverse:d.noop,fn:d.program(3,h,n),contexts:[t],types:["STRING"],data:n},u=c?c.call(t,"albums",p):b.call(t,"link-to","albums",p),(u||0===u)&&n.buffer.push(u),n.buffer.push("</li>\n        "),u=s["if"].call(t,"authorized",{hash:{},hashTypes:{},hashContexts:{},inverse:d.program(8,i,n),fn:d.program(5,o,n),contexts:[t],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push("\n      </ul>\n    </div>\n  "),n.buffer.push(m((c=s.render||t&&t.render,p={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},c?c.call(t,"search",p):b.call(t,"render","search",p)))),n.buffer.push('\n</div>\n  <div class="row">\n    <div class="small-12 columns">\n      <div id="divider">\n      </div>\n    </div>\n  </div>\n  '),u=s._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push('\n  <div id="footer">\n    '),u=s._triageMustache.call(t,"y-toplink",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(u||0===u)&&n.buffer.push(u),n.buffer.push("\n  </div>\n</div>\n\n"),n.buffer.push(m((c=s.render||t&&t.render,p={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n},c?c.call(t,"modal",p):b.call(t,"render","modal",p)))),n.buffer.push("\n"),f}),Ember.TEMPLATES.artist=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){var a,n,r="";return t.buffer.push("\n      "),t.buffer.push(x((a=s.youtube||e&&e.youtube,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},a?a.call(e,"youtube_url",n):g.call(e,"youtube","youtube_url",n)))),t.buffer.push("\n    "),r}function h(e,t){var a,n,r,h="";return t.buffer.push("\n      "),n=s["y-block"]||e&&e["y-block"],r={hash:{title:"Events",expanded:"true"},hashTypes:{title:"STRING",expanded:"STRING"},hashContexts:{title:e,expanded:e},inverse:T.noop,fn:T.program(4,o,t),contexts:[],types:[],data:t},a=n?n.call(e,r):g.call(e,"y-block",r),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n    "),h}function o(e,t){var a,n="";return t.buffer.push("\n        "),a=s["if"].call(e,"hasEvents",{hash:{},hashTypes:{},hashContexts:{},inverse:T.program(8,u,t),fn:T.program(5,l,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n      "),n}function l(e,t){var a,n="";return t.buffer.push("\n          "),a=s.each.call(e,"event","in","songkick.resultsPage.results.event",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(6,i,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\n          <p>Event information provided by <a href="http://www.songkick.com/" target="_blank">songkick.com</a></p>\n        '),n}function i(e,t){var a,n="";return t.buffer.push("\n            <p><a "),t.buffer.push(x(s["bind-attr"].call(e,{hash:{href:"event.uri"},hashTypes:{href:"ID"},hashContexts:{href:e},contexts:[],types:[],data:t}))),t.buffer.push(' target="_blank">'),a=s._triageMustache.call(e,"event.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</a></p>\n          "),n}function u(e,t){t.buffer.push("\n          <p>This artist has no upcoming events listed on songkick.com</p>\n        ")}function c(e,t){var a,n="";return t.buffer.push("\n      "),a=s.each.call(e,"social_media_urls",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(11,p,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n      <p><a "),t.buffer.push(x(s["bind-attr"].call(e,{hash:{href:"website_url"},hashTypes:{href:"ID"},hashContexts:{href:e},contexts:[],types:[],data:t}))),t.buffer.push(' target="_blank">Artist Website</a></p>\n    '),n}function p(e,t){var a,n="";return t.buffer.push("\n        <p><a "),t.buffer.push(x(s["bind-attr"].call(e,{hash:{href:"url"},hashTypes:{href:"ID"},hashContexts:{href:e},contexts:[],types:[],data:t}))),t.buffer.push(' target="_blank">'),a=s._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</a></p>\n      "),n}function f(e,t){var a="";return t.buffer.push("\n      "),t.buffer.push(x(s._triageMustache.call(e,"bio",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n    "),a}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var d,b,m,y="",g=s.helperMissing,x=this.escapeExpression,T=this;return n.buffer.push('<div id="artist-header">\n  <div class="small-12 columns">\n    <div class=\'artist-image-wrapper\'>\n      <img '),n.buffer.push(x(s["bind-attr"].call(t,{hash:{src:"banner_image",alt:"name"},hashTypes:{src:"STRING",alt:"STRING"},hashContexts:{src:t,alt:t},contexts:[],types:[],data:n}))),n.buffer.push("/>\n      <h1 class='artist-name'>"),d=s._triageMustache.call(t,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(d||0===d)&&n.buffer.push(d),n.buffer.push('</h1>\n    </div>\n  </div>\n</div>\n<div id="artist-info">\n  <div id="left">\n    '),b=s["y-block"]||t&&t["y-block"],m={hash:{title:"Youtube",expanded:"true"},hashTypes:{title:"STRING",expanded:"STRING"},hashContexts:{title:t,expanded:t},inverse:T.noop,fn:T.program(1,r,n),contexts:[],types:[],data:n},d=b?b.call(t,m):g.call(t,"y-block",m),(d||0===d)&&n.buffer.push(d),n.buffer.push("\n    "),d=s["if"].call(t,"hasSongkick",{hash:{},hashTypes:{},hashContexts:{},inverse:T.noop,fn:T.program(3,h,n),contexts:[t],types:["ID"],data:n}),(d||0===d)&&n.buffer.push(d),n.buffer.push("\n    "),b=s["y-block"]||t&&t["y-block"],m={hash:{title:"Links",expanded:"true"},hashTypes:{title:"STRING",expanded:"STRING"},hashContexts:{title:t,expanded:t},inverse:T.noop,fn:T.program(10,c,n),contexts:[],types:[],data:n},d=b?b.call(t,m):g.call(t,"y-block",m),(d||0===d)&&n.buffer.push(d),n.buffer.push('\n  </div>\n  <div id="right">\n    '),b=s["y-block"]||t&&t["y-block"],m={hash:{title:"Biography",expanded:"true"},hashTypes:{title:"STRING",expanded:"STRING"},hashContexts:{title:t,expanded:t},inverse:T.noop,fn:T.program(13,f,n),contexts:[],types:[],data:n},d=b?b.call(t,m):g.call(t,"y-block",m),(d||0===d)&&n.buffer.push(d),n.buffer.push("\n  </div>\n</div>\n"),y}),Ember.TEMPLATES.collection=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){var a,n,r="";return t.buffer.push("\n        "),t.buffer.push(u((a=s.render||e&&e.render,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t},a?a.call(e,"list/album","album",n):i.call(e,"render","list/album","album",n)))),t.buffer.push("\n      "),r}function h(e,t){t.buffer.push('\n      <p>You don\'t have anything in your collection yet! Head over to the <a href="/">catalog</a> and add some albums</p>\n    ')}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var o,l="",i=s.helperMissing,u=this.escapeExpression,c=this;return n.buffer.push('<div class="row">\n  <div class="small-12 columns">\n    <ul id=\'catalog\'>\n      '),o=s.each.call(t,"album","in","content",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,r,n),contexts:[t,t,t],types:["ID","ID","ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push("\n    </ul>\n    "),o=s["if"].call(t,"collectionEmpty",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(3,h,n),contexts:[t],types:["ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push("\n</div>\n</div>\n"),l}),Ember.TEMPLATES.modal=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){t.buffer.push('\n      <div class="flash-login">\n        <i class ="flash-icon ion-alert"></i><p>Please enter a valid library card number</p>\n      </div>\n    ')}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var h,o,l,i="",u=this.escapeExpression,c=this,p=s.helperMissing;return n.buffer.push('<div id=\'modal\'>\n  <div class="reveal-modal-bg" style="display: block;" '),n.buffer.push(u(s.action.call(t,"close",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n}))),n.buffer.push('></div>\n  <div class="reveal-modal" data-reveal="" style="visibility: visible; display: block; opacity: 1;">\n    <h2>Woah there!</h2>\n    <p>We\'ll need you to give us some more information to access that.</p>\n    '),h=s["if"].call(t,"currentUser.error",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,r,n),contexts:[t],types:["ID"],data:n}),(h||0===h)&&n.buffer.push(h),n.buffer.push("\n    <p>"),n.buffer.push(u((o=s.input||t&&t.input,l={hash:{id:"card-number",value:"currentUser.cardnumber",placeholder:"Library Card Number"},hashTypes:{id:"STRING",value:"ID",placeholder:"STRING"},hashContexts:{id:t,value:t,placeholder:t},contexts:[],types:[],data:n},o?o.call(t,l):p.call(t,"input",l)))),n.buffer.push("</p>\n    <button class='login' "),n.buffer.push(u(s.action.call(t,"submit",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}))),n.buffer.push('>Submit</button>\n    <a class="close-reveal-modal" '),n.buffer.push(u(s.action.call(t,"close",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n}))),n.buffer.push(">×</a>\n  </div>\n</div>\n"),i}),Ember.TEMPLATES.page=Ember.Handlebars.template(function(e,t,s,a,n){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var r="",h=this.escapeExpression;return n.buffer.push('<div class="row">\n  <div class="small-12 columns">\n    '),n.buffer.push(h(s._triageMustache.call(t,"html",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:t},contexts:[t],types:["ID"],data:n}))),n.buffer.push("\n  </div>\n</div>\n"),r}),Ember.TEMPLATES.player=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){var a,n,r,p="";return t.buffer.push('\n  <div id="player">\n    <div class="previous-track">\n      '),a=s["if"].call(e,"previousTrack",{hash:{},hashTypes:{},hashContexts:{},inverse:b.program(4,o,t),fn:b.program(2,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\n    </div>\n    <div class="current-track">\n      <div class="album">\n        <img class=\'art\' '),t.buffer.push(d(s["bind-attr"].call(e,{hash:{src:"album.art",alt:"album.altText"},hashTypes:{src:"STRING",alt:"STRING"},hashContexts:{src:e,alt:e},contexts:[],types:[],data:t}))),t.buffer.push(">\n        <div class='title'>"),a=s._triageMustache.call(e,"album.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\n        <div class='artist'>"),a=s._triageMustache.call(e,"album.artist_name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\n        "),a=s._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\n      </div>\n      <div class="album-mobile">\n        '),n=s["link-to"]||e&&e["link-to"],r={hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(6,l,t),contexts:[e,e],types:["STRING","ID"],data:t},a=n?n.call(e,"albums.show","album",r):m.call(e,"link-to","albums.show","album",r),(a||0===a)&&t.buffer.push(a),t.buffer.push('\n      </div>\n      <div class="controls">\n        <i class="icon ion-ios7-rewind" '),t.buffer.push(d(s.action.call(e,"play","previousTrack",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push("></i>\n        "),a=s["if"].call(e,"playing",{hash:{},hashTypes:{},hashContexts:{},inverse:b.program(10,u,t),fn:b.program(8,i,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\n        <i class="icon ion-ios7-fastforward" '),t.buffer.push(d(s.action.call(e,"play","nextTrack",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push('></i>\n        <div class="position">\n          <div '),t.buffer.push(d(s["bind-attr"].call(e,{hash:{style:"pctStyle"},hashTypes:{style:"STRING"},hashContexts:{style:e},contexts:[],types:[],data:t}))),t.buffer.push('></div>\n        </div>\n      </div>\n    </div>\n\n    <div class="next-track">\n      '),a=s["if"].call(e,"nextTrack",{hash:{},hashTypes:{},hashContexts:{},inverse:b.program(4,o,t),fn:b.program(12,c,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push('\n    </div>\n  </div>\n  <div id="player-shadow">\n  </div>\n'),p}function h(e,t){var a,n="";return t.buffer.push("\n        <div class=\"album\">\n          <img class='art' "),t.buffer.push(d(s["bind-attr"].call(e,{hash:{src:"previousTrack.album.art",alt:"previousTrack.album.altText"},hashTypes:{src:"STRING",alt:"STRING"},hashContexts:{src:e,alt:e},contexts:[],types:[],data:t}))),t.buffer.push(">\n          <div class='title'>"),a=s._triageMustache.call(e,"previousTrack.album.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\n          <div class='artist'>"),a=s._triageMustache.call(e,"previousTrack.album.artist_name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\n          "),a=s._triageMustache.call(e,"previousTrack.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n        </div>\n      "),n}function o(e,t){t.buffer.push("\n        &nbsp;\n      ")}function l(e,t){var a,n="";return a=s._triageMustache.call(e,"album.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" - "),a=s._triageMustache.call(e,"album.artist_name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push(" - "),a=s._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),n}function i(e,t){var a="";return t.buffer.push('\n          <i class="icon ion-ios7-pause" '),t.buffer.push(d(s.action.call(e,"toggle",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("></i>\n        "),a}function u(e,t){var a="";return t.buffer.push('\n          <i class="icon ion-ios7-play" '),t.buffer.push(d(s.action.call(e,"toggle",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push("></i>\n        "),a}function c(e,t){var a,n="";return t.buffer.push("\n        <div class=\"album\">\n          <img class='art' "),t.buffer.push(d(s["bind-attr"].call(e,{hash:{src:"nextTrack.album.art",alt:"nextTrack.album.altText"},hashTypes:{src:"STRING",alt:"STRING"},hashContexts:{src:e,alt:e},contexts:[],types:[],data:t}))),t.buffer.push(">\n          <div class='title'>"),a=s._triageMustache.call(e,"nextTrack.album.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\n          <div class='artist'>"),a=s._triageMustache.call(e,"nextTrack.album.artist_name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\n          "),a=s._triageMustache.call(e,"nextTrack.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n        </div>\n      "),n}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var p,f="",d=this.escapeExpression,b=this,m=s.helperMissing;return p=s["if"].call(t,"content",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(1,r,n),contexts:[t],types:["ID"],data:n}),(p||0===p)&&n.buffer.push(p),n.buffer.push("\n"),f}),Ember.TEMPLATES.search=Ember.Handlebars.template(function(e,t,s,a,n){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var r,h,o="",l=s.helperMissing,i=this.escapeExpression;return n.buffer.push('<div class="small-12 large-4 medium-6 columns large-offset-2">\n  '),n.buffer.push(i((r=s.input||t&&t.input,h={hash:{id:"search",placeholder:"SEARCH CATALOG",value:"searchString"},hashTypes:{id:"STRING",placeholder:"STRING",value:"ID"},hashContexts:{id:t,placeholder:t,value:t},contexts:[],types:[],data:n},r?r.call(t,h):l.call(t,"input",h)))),n.buffer.push('\n  <div class="spyglass"><img src="/assets/images/spyglass_grey.png"></div>\n</div>\n'),o}),Ember.TEMPLATES["albums/index"]=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){t.buffer.push("\n      <p>No results found. Please try searching for something different</p>\n    ")}function h(e,t){var a,n="";return t.buffer.push("\n      <ul id='catalog'>\n        "),a=s.each.call(e,"album","in","filteredAlbums",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(4,o,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n      </ul>\n    "),n}function o(e,t){var a,n,r="";return t.buffer.push("\n          "),t.buffer.push(c((a=s.render||e&&e.render,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t},a?a.call(e,"list/album","album",n):u.call(e,"render","list/album","album",n)))),t.buffer.push("\n        "),r}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var l,i="",u=s.helperMissing,c=this.escapeExpression,p=this;return n.buffer.push('<div class="row">\n  <div class="small-12 columns">\n    '),l=s["if"].call(t,"empty",{hash:{},hashTypes:{},hashContexts:{},inverse:p.program(3,h,n),fn:p.program(1,r,n),contexts:[t],types:["ID"],data:n}),(l||0===l)&&n.buffer.push(l),n.buffer.push("\n  </div>\n</div>\n"),i}),Ember.TEMPLATES["albums/show"]=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){var a,n="";return t.buffer.push("\n        "),a=s._triageMustache.call(e,"artist_name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n      "),n}function h(e,t){var a,n,r,h="";return t.buffer.push("\n      "),n=s["y-block"]||e&&e["y-block"],r={hash:{title:"Remove from Your Collection",action:"remove",parameter:"model","class":"add-button"},hashTypes:{title:"STRING",action:"STRING",parameter:"ID","class":"STRING"},hashContexts:{title:e,action:e,parameter:e,"class":e},inverse:v.noop,fn:v.program(4,o,t),contexts:[],types:[],data:t},a=n?n.call(e,r):I.call(e,"y-block",r),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n    "),h}function o(e,t){t.buffer.push("\n      ")}function l(e,t){var a,n,r,h="";return t.buffer.push("\n      "),n=s["y-block"]||e&&e["y-block"],r={hash:{title:"Add to Your Collection",action:"collect",parameter:"model","class":"add-button"},hashTypes:{title:"STRING",action:"STRING",parameter:"ID","class":"STRING"},hashContexts:{title:e,action:e,parameter:e,"class":e},inverse:v.noop,fn:v.program(4,o,t),contexts:[],types:[],data:t},a=n?n.call(e,r):I.call(e,"y-block",r),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n    "),h}function i(e,t){var a="";return t.buffer.push("\n      <p>\n      <a href='#' "),t.buffer.push(k(s.action.call(e,"download","mp3",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["ID","STRING"],data:t}))),t.buffer.push('><img class="download-filetype-images" src="/assets/images/download-icon.png">MP3</a>\n      </p>\n      <p>\n      <a href=\'#\' '),t.buffer.push(k(s.action.call(e,"download","flac",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["ID","STRING"],data:t}))),t.buffer.push('><img class="download-filetype-images" src="/assets/images/download-icon.png">FLAC</a>\n      </p>\n      <p>\n      <a href=\'#\' '),t.buffer.push(k(s.action.call(e,"download","aac",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["ID","STRING"],data:t}))),t.buffer.push('><img class="download-filetype-images" src="/assets/images/download-icon.png">AAC</a>\n      </p>\n      <p>\n      <a href=\'#\' '),t.buffer.push(k(s.action.call(e,"download","alac",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["ID","STRING"],data:t}))),t.buffer.push('><img class="download-filetype-images" src="/assets/images/download-icon.png">ALAC</a>\n      </p>\n    '),a}function u(e,t){var a,n="";return t.buffer.push("\n      <table>\n        <tbody>\n          "),a=s.each.call(e,"track","in","tracks",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(11,c,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n        </tbody>\n      </table>\n    "),n}function c(e,t){var a,n,r="";return t.buffer.push("\n            "),t.buffer.push(k((a=s.render||e&&e.render,n={hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t},a?a.call(e,"list/track","track",n):I.call(e,"render","list/track","track",n)))),t.buffer.push("\n          "),r}function p(e,t){var a,n="";return t.buffer.push("\n      "),a=s["if"].call(e,"noPurchaseLinks",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(16,d,t),fn:v.program(14,f,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n    "),n}function f(e,t){t.buffer.push('\n        <p>\n          <a href="http://www.b-sidemadison.com/" target="_blank">B-Side Records</a> - CD, Vinyl\n        </p>\n        <p>\n          <a href="http://www.madcitymusic.net/" target="_blank">MadCity Music Exchange</a> - CD, Vinyl\n        </p>\n        <p>\n          <a href="https://www.murfie.com/" target="_blank">Murfie</a> - CD, Vinyl, Download, Stream\n        </p>\n        <p>\n          <a href="http://www.strictlydiscs.com/" target="_blank">Strictly Discs</a> - CD, Vinyl\n        </p>\n      ')}function d(e,t){var a,n="";return t.buffer.push("\n        "),a=s.each.call(e,"link","in","purchase_links",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(17,b,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n      "),n}function b(e,t){var a,n="";return t.buffer.push('\n          <p>\n            <a target="_blank" '),t.buffer.push(k(s["bind-attr"].call(e,{hash:{href:"link.url"},hashTypes:{href:"STRING"},hashContexts:{href:e},contexts:[],types:[],data:t}))),t.buffer.push(">"),a=s._triageMustache.call(e,"link.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</a> - "),a=s._triageMustache.call(e,"link.formats",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n          </p>\n        "),n}function m(e,t){var a="";return t.buffer.push("\n      "),t.buffer.push(k(s._triageMustache.call(e,"review",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:e},contexts:[e],types:["ID"],data:t}))),t.buffer.push("\n    "),a}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var y,g,x,T="",v=this,I=s.helperMissing,k=this.escapeExpression;return n.buffer.push('<div id="album">\n  <div class="meta-data">\n    <div class="album-art-wrapper">\n      <img class=\'art\' '),n.buffer.push(k(s["bind-attr"].call(t,{hash:{src:"art",alt:"altText"},hashTypes:{src:"STRING",alt:"STRING"},hashContexts:{src:t,alt:t},contexts:[],types:[],data:n}))),n.buffer.push('>\n      <div class="show-play-button" '),n.buffer.push(k(s.action.call(t,"playPause","firstTrack",{hash:{},hashTypes:{},hashContexts:{},contexts:[t,t],types:["STRING","ID"],data:n}))),n.buffer.push('><img src="/assets/images/play_button.png"></div>\n    </div>\n    <div class="album-info-block">\n      <h3 class="album">'),y=s._triageMustache.call(t,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(y||0===y)&&n.buffer.push(y),n.buffer.push("</h3>\n      "),g=s["link-to"]||t&&t["link-to"],x={hash:{classNames:"artist"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:t},inverse:v.noop,fn:v.program(1,r,n),contexts:[t,t],types:["STRING","ID"],data:n},y=g?g.call(t,"artist","artistSlug",x):I.call(t,"link-to","artist","artistSlug",x),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n      <h4>\n        "),y=s._triageMustache.call(t,"record_label",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n      </h4>\n      <h4>\n        "),y=s._triageMustache.call(t,"release_date",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n      </h4>\n    </div>\n  </div>\n  <div class='actions'>\n    "),y=s["if"].call(t,"inCollection",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(6,l,n),fn:v.program(3,h,n),contexts:[t],types:["ID"],data:n}),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n    "),g=s["y-block"]||t&&t["y-block"],x={hash:{title:"Download","class":"download-block"},hashTypes:{title:"STRING","class":"STRING"},hashContexts:{title:t,"class":t},inverse:v.noop,fn:v.program(8,i,n),contexts:[],types:[],data:n},y=g?g.call(t,x):I.call(t,"y-block",x),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n\n    "),g=s["y-block"]||t&&t["y-block"],x={hash:{title:"Track List",expanded:"true"},hashTypes:{title:"STRING",expanded:"STRING"},hashContexts:{title:t,expanded:t},inverse:v.noop,fn:v.program(10,u,n),contexts:[],types:[],data:n},y=g?g.call(t,x):I.call(t,"y-block",x),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n\n    "),g=s["y-block"]||t&&t["y-block"],x={hash:{title:"Options to Purchase"},hashTypes:{title:"STRING"},hashContexts:{title:t},inverse:v.noop,fn:v.program(13,p,n),contexts:[],types:[],data:n},y=g?g.call(t,x):I.call(t,"y-block",x),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n  </div>\n  <div class='info'>\n    "),g=s["y-block"]||t&&t["y-block"],x={hash:{title:"Review",expanded:"true",column:"left-col"},hashTypes:{title:"STRING",expanded:"STRING",column:"STRING"},hashContexts:{title:t,expanded:t,column:t},inverse:v.noop,fn:v.program(19,m,n),contexts:[],types:[],data:n},y=g?g.call(t,x):I.call(t,"y-block",x),(y||0===y)&&n.buffer.push(y),n.buffer.push("\n  </div>\n</div>\n"),T}),Ember.TEMPLATES["components/y-block"]=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){var a,n="";return t.buffer.push("\n    <span class='icon'>\n      "),a=s["if"].call(e,"expanded",{hash:{},hashTypes:{},hashContexts:{},inverse:c.program(4,o,t),fn:c.program(2,h,t),contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n    </span>\n  "),n}function h(e,t){t.buffer.push("\n        -\n      ")}function o(e,t){t.buffer.push("\n        +\n      ")}function l(e,t){var a,n="";return t.buffer.push("\n  "),a=s._triageMustache.call(e,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n"),n}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var i,u="",c=this,p=this.escapeExpression;return n.buffer.push('<h3 class="header" '),n.buffer.push(p(s.action.call(t,"toggle",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:n}))),n.buffer.push(" "),n.buffer.push(p(s["bind-attr"].call(t,{hash:{"class":"expanded"},hashTypes:{"class":"STRING"},hashContexts:{"class":t},contexts:[],types:[],data:n}))),n.buffer.push(">\n  "),i=s._triageMustache.call(t,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(i||0===i)&&n.buffer.push(i),n.buffer.push("\n  "),i=s.unless.call(t,"action",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(1,r,n),contexts:[t],types:["ID"],data:n}),(i||0===i)&&n.buffer.push(i),n.buffer.push("\n</h3>\n"),i=s["if"].call(t,"expanded",{hash:{},hashTypes:{},hashContexts:{},inverse:c.noop,fn:c.program(6,l,n),contexts:[t],types:["ID"],data:n}),(i||0===i)&&n.buffer.push(i),n.buffer.push("\n"),u}),Ember.TEMPLATES["components/y-toplink"]=Ember.Handlebars.template(function(e,t,s,a,n){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{},n.buffer.push("<a href='#' class=\"top-link\">↑ Top</a>\n")}),Ember.TEMPLATES["list/album"]=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){var a,n="";return t.buffer.push("\n    <div class='art-wrapper'>\n      <img class='art' "),t.buffer.push(c(s["bind-attr"].call(e,{hash:{src:"art",alt:"altText"},hashTypes:{src:"STRING",alt:"STRING"},hashContexts:{src:e,alt:e},contexts:[],types:[],data:t}))),t.buffer.push('>\n    </div>\n    <div class="play-button" '),t.buffer.push(c(s.action.call(e,"playPause","firstTrack",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push("><img src=\"/assets/images/play_button.png\"></div>\n    <div class='title'>"),a=s._triageMustache.call(e,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</div>\n  "),n
}function h(e,t){var a,n="";return t.buffer.push("\n    "),a=s._triageMustache.call(e,"artist_name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n  "),n}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var o,l,i,u="",c=this.escapeExpression,p=this,f=s.helperMissing;return n.buffer.push('<li class="album">\n  '),l=s["link-to"]||t&&t["link-to"],i={hash:{classNames:"album"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:t},inverse:p.noop,fn:p.program(1,r,n),contexts:[t,t],types:["STRING","ID"],data:n},o=l?l.call(t,"albums.show","",i):f.call(t,"link-to","albums.show","",i),(o||0===o)&&n.buffer.push(o),n.buffer.push("\n  "),l=s["link-to"]||t&&t["link-to"],i={hash:{classNames:"artist"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:t},inverse:p.noop,fn:p.program(3,h,n),contexts:[t,t],types:["STRING","ID"],data:n},o=l?l.call(t,"artist","album.artistSlug",i):f.call(t,"link-to","artist","album.artistSlug",i),(o||0===o)&&n.buffer.push(o),n.buffer.push("\n</li>\n"),u}),Ember.TEMPLATES["list/track"]=Ember.Handlebars.template(function(e,t,s,a,n){function r(e,t){t.buffer.push('\n      <i class="icon ion-ios7-pause"></i>\n    ')}function h(e,t){t.buffer.push('\n      <i class="icon ion-ios7-play"></i>\n    ')}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,Ember.Handlebars.helpers),n=n||{};var o,l,i,u="",c=this.escapeExpression,p=s.helperMissing,f=this;return n.buffer.push('<tr class="track" '),n.buffer.push(c(s["bind-attr"].call(t,{hash:{"class":"playing:playing"},hashTypes:{"class":"STRING"},hashContexts:{"class":t},contexts:[],types:[],data:n}))),n.buffer.push(" "),n.buffer.push(c(s.action.call(t,"playPause","track",{hash:{},hashTypes:{},hashContexts:{},contexts:[t,t],types:["STRING","ID"],data:n}))),n.buffer.push(">\n  <td>"),o=s._triageMustache.call(t,"position",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push("</td>\n  <td>"),o=s._triageMustache.call(t,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push("</td>\n  <td>"),n.buffer.push(c((l=s["format-duration"]||t&&t["format-duration"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:n},l?l.call(t,"length",i):p.call(t,"format-duration","length",i)))),n.buffer.push("</td>\n  <td>\n    "),o=s["if"].call(t,"playing",{hash:{},hashTypes:{},hashContexts:{},inverse:f.program(3,h,n),fn:f.program(1,r,n),contexts:[t],types:["ID"],data:n}),(o||0===o)&&n.buffer.push(o),n.buffer.push("\n  </td>\n</tr>\n"),u});var ENV={};ENV.HOST="https://yahara-api.herokuapp.com",soundManager.setup({url:"/swf/"}),Yahara=Ember.Application.create(),Yahara.initializer({name:"soundmanager",initialize:function(){soundManager.setup({url:"/swf",preferFlash:!0})}}),Yahara.ResetScroll=Ember.Mixin.create({activate:function(){this._super(),window.scrollTo(0,0)}}),Yahara.GoogleAnalytics=Ember.Mixin.create({trackPageView:function(){window.ga&&"function"==typeof window.ga&&Ember.run.next(function(){var e=window.location,t=e.hash?e.hash.substring(1):e.pathname+e.search;ga("send","pageview",t)})}.observes("currentPath")}),Yahara.Router.map(function(){this.resource("albums",{path:"/"},function(){this.route("show",{path:"/album/:slug"})}),this.resource("artist",{path:"/artist/:artistSlug"}),this.route("catalog"),this.route("collection"),this.route("profile"),this.route("page",{path:"/:page"})}),Yahara.Router.reopen({location:"auto"}),Yahara.Adapter=Ember.Adapter.extend({find:function(e,t){var s=this.buildURL(e.constructor,t),a=this;return this.ajax(s).then(function(s){return a.didFind(e,t,s),e})},didFind:function(e,t,s){var a=Ember.get(e.constructor,"rootKey"),n=a?s[a]:s;e.load(t,n)},findAll:function(e,t){var s=this.buildURL(e),a=this;return this.ajax(s).then(function(s){return a.didFindAll(e,t,s),t})},didFindAll:function(e,t,s){var a=Ember.get(e,"collectionKey"),n=a?s[a]:s;n.map(function(e){e.id=e.mprint.active,e.tracks.map(function(t){t.album_id=e.id})}),t.load(e,n)},ajax:function(e,t,s){return this._ajax(e,t,s||"GET")},buildURL:function(e,t){var s=ENV.HOST+Ember.get(e,"url"),a=Ember.get(e,"urlSuffix")||"";if(!s)throw new Error("Ember.RESTAdapter requires a `url` property to be specified");return Ember.isEmpty(t)?s+a:s+"/"+t+a},_ajax:function(e,t,s){return ic.ajax.request({url:e,method:s})}}),Yahara.YBlockComponent=Ember.Component.extend({classNames:["y-block"],classNameBindings:["expanded:expanded"],action:null,expanded:!1,title:null,parameter:null,actions:{toggle:function(){this.get("action")?this.sendAction("action",this.get("parameter")):this.toggleProperty("expanded")}}}),Yahara.YToplinkComponent=Ember.Component.extend({click:function(){window.scrollTo(0,0)}}),Yahara.Album=Ember.Model.extend({id:Ember.attr(),title:Ember.attr(),record_label:Ember.attr(),release_date:Ember.attr(),album_art:Ember.attr(),tracks:Ember.hasMany("Yahara.Track",{key:"tracks",embedded:!0}),artist_name:Ember.attr(),mprint:Ember.attr(),review:Ember.attr(),artist_url:Ember.attr(),slug:Ember.attr(),purchase_links:Ember.attr(),art:Ember.computed.alias("album_art"),firstTrack:function(){return this.get("tracks.firstObject")}.property("tracks.@each"),artistSlug:function(){return this.get("artist_url").match(/artist\/([a-z0-9\-]+)/)[1]}.property("artist_name"),download:function(e){var t=ENV.HOST+"/download/"+this.get("id")+"/"+encodeURIComponent(this.get("slug"))+"-"+e+".zip?token="+localStorage.token;ic.ajax.request(t).then(function(e){window.location=e.url})},altText:function(){return"Album art for "+this.get("title")+" by "+this.get("artist_name")}.property("title","artist_name"),noPurchaseLinks:Ember.computed.empty("purchase_links")}),Yahara.Album.url="/catalog/yahara",Yahara.Album.adapter=Yahara.Adapter.create(),Yahara.CurrentUser=Ember.Object.extend({token:null,cardnumber:null,authorized:Ember.computed.bool("token"),notAuthorized:Ember.computed.not("authorized"),error:!1,collection:Ember.A(),collection_ids:function(){return this.get("collection").map(function(e){return e.mprint.origin})}.property("collection.@each"),init:function(){this._super(),this.set("token",localStorage.token)},signOut:function(){this.set("token",null),localStorage.removeItem("token")},signIn:function(e){this.set("token",e),localStorage.token=e,this.loadCollection()},collect:function(e){var t=this;return ic.ajax.request({type:"POST",url:ENV.HOST+"/collection",data:{mprint:e.get("id"),token:this.get("token")}}).then(function(e){t.loadCollection(e)})},removeFromCollection:function(e){var t=this,s=this.get("collection").find(function(t){return t.mprint.origin===e.get("mprint.origin")});ic.ajax.request({type:"DELETE",url:ENV.HOST+"/collection/"+s.mprint.active+"?token="+t.get("token")}).then(function(e){t.loadCollection(e)})},loadCollection:function(e){var t=this;1===arguments.length?t.get("collection").setObjects(e):ic.ajax.request({type:"GET",url:ENV.HOST+"/collection",data:t.getProperties("token")}).then(function(e){t.get("collection").addObjects(e)},function(){console.error("There was a problem loading the collection")})}}),Yahara.Track=Ember.Model.extend({id:Ember.attr(),title:Ember.attr(),position:Ember.attr(Number),length:Ember.attr(Number),filename:Ember.attr(),album:Ember.belongsTo("Yahara.Album",{key:"album_id"}),media_uri:function(){return ENV.HOST+"/stream/"+this.get("album.id")+"/"+escape(this.get("filename"))+".mp3?token="}.property("file_name"),playing:!1,sound:null,currentPosition:0,finished:!1,pctStyle:function(){return"width: "+this.get("currentPosition")/this.get("length")*100+"%"}.property("currentPosition"),play:function(){var e=this;e.playSound().then(function(){e.set("playing",!0)})},islastTrack:Ember.computed.none("nextTrack"),nextTrack:function(){return this.get("album.tracks").findBy("position",this.get("position")+1)}.property("album"),previousTrack:function(){return this.get("album.tracks").findBy("position",this.get("position")-1)}.property("album"),pause:function(){this.set("playing",!1),this.get("sound").pause()},stop:function(){this.set("playing",!1);try{this.get("sound").stop()}catch(e){}},resume:function(){this.set("playing",!0),this.get("sound").play()},playSound:function(){var e=this;return Ember.$.ajax(e.get("media_uri")+localStorage.token).then(function(t){e.set("sound",soundManager.createSound({url:t.url,autoPlay:!0,whileplaying:function(){e.updatePosition()},onfinish:function(){e.set("finished",!0)}}))})},updatePosition:function(){this.set("currentPosition",this.get("sound").position)}}),Yahara.Track.url="/api/catalog",Yahara.Track.collectionKey="albums",Yahara.Track.adapter=Yahara.Adapter.create(),Yahara.ApplicationController=Ember.ObjectController.extend(Yahara.GoogleAnalytics,{searchString:null,albums:Ember.A(),getAlbums:function(){this.get("filteredAlbums")}.on("init"),filteredAlbums:function(){var e=this.get("searchString");return e?this.get("albums").filter(function(t){var s=new RegExp("\\b"+e,"i");return s.test([t.get("title"),t.get("artist_name")].join(" "))}):this.get("albums")}.property("albums.[]","searchString"),searchTransition:function(){1===this.get("filteredAlbums.length")?this.transitionToRoute("albums.show",this.get("filteredAlbums.firstObject")):this.transitionToRoute("/")}.observes("searchString")}),Yahara.ArtistController=Ember.ObjectController.extend({songkick:null,hasSongkick:function(){return!Ember.isEmpty(this.get("songkick"))}.property("songkick"),hasEvents:function(){return this.get("songkick.resultsPage.totalEntries")>0}.property("songkick")}),Yahara.CollectionController=Ember.ArrayController.extend({collectionEmpty:Ember.computed.empty("content.[]")}),Yahara.ModalController=Ember.ObjectController.extend({needs:"application",currentUser:Ember.computed.alias("controllers.application.model"),previousTransition:null,actions:{open:function(){$("#modal").show()},close:function(){$("#modal").hide()},submit:function(){var e=this.get("currentUser");ic.ajax.request({type:"POST",url:ENV.HOST+"/userforcard",data:e.getProperties("cardnumber")}).then(function(t){$("#modal").hide(),e.signIn(t.private_info.token)},function(){e.set("error",!0)})}}}),Yahara.PlayerController=Ember.ObjectController.extend({trackFinished:function(){var e=this.get("content");e.get("finished")&&(e.get("islastTrack")?(e.set("playing",!1),this.set("content",null)):this.send("play",this.get("content.nextTrack")))}.observes("content.finished"),actions:{pause:function(){this.get("content").pause()},toggle:function(){this.get("playing")?this.get("content").pause():this.get("content").resume()},play:function(e){if("undefined"!=typeof e){null!==this.get("content")&&this.get("content").stop();var t=soundManager.createSound({url:"/assets/audio/point1sec.mp3"});t.play(),this.set("content",e),this.get("content").play()}}}}),Yahara.SearchController=Ember.ObjectController.extend({needs:"application",searchString:Ember.computed.alias("controllers.application.searchString")}),Yahara.AlbumsIndexController=Ember.ArrayController.extend({needs:["application"],searchString:Ember.computed.alias("controllers.application.searchString"),filteredAlbums:Ember.computed.alias("controllers.application.filteredAlbums"),empty:Ember.computed.empty("filteredAlbums.[]")}),Yahara.AlbumsShowController=Ember.ObjectController.extend({needs:["application"],inCollection:function(){return this.get("controllers.application.model.collection_ids").contains(this.get("model.mprint.origin"))}.property("controllers.application.model.collection.@each","model.mprint.origin")}),Ember.Handlebars.helper("format-duration",function(e){var t,s,a,n;return n=e/1e3,t=Math.floor(n/3600),s=Math.floor(n%3600/60),a=Math.floor(n%3600%60),(t>0?t+":":"")+(s>0?(t>0&&10>s?"0":"")+s+":":"0:")+(10>a?"0":"")+a}),Ember.Handlebars.helper("headTitle",function(e){Ember.$("head").find("title").text(e)},"title"),Ember.Handlebars.helper("youtube",function(e){var t=e.match(/v=(\S+)/)[1];return new Ember.Handlebars.SafeString('<div class="youtube-embed"><iframe src="//www.youtube.com/embed/'+t+'" frameborder="0" allowfullscreen></iframe></div>')}),Yahara.ApplicationRoute=Ember.Route.extend({model:function(){return Ember.RSVP.hash({user:Yahara.CurrentUser.create(),albums:Yahara.Album.fetch()})},setupController:function(e,t){t.user.get("authorized")&&t.user.loadCollection(),e.set("content",t.user),e.set("albums",t.albums)},actions:{playPause:function(e){var t=this.controllerFor("player"),s=this.controller.get("model");s.get("authorized")?e.get("playing")?t.send("pause"):t.send("play",e):this.send("openModal")},download:function(e){var t=this.controller.get("model");t.get("authorized")?this.modelFor("albums.show").download(e):this.send("openModal")},openModal:function(){return this.controllerFor("modal").send("open")},closeModal:function(){return this.controllerFor("modal").send("close")},signOut:function(){this.controller.get("model").signOut(),this.transitionTo("application.index")},goHome:function(){this.controllerFor("search").set("searchString",""),this.transitionTo("/")},collect:function(e){var t=this.controllerFor("application").get("model");t.get("authorized")?t.collect(e):this.send("openModal")},remove:function(e){var t=this.controllerFor("application").get("model");t.removeFromCollection(e)}}}),Yahara.ArtistRoute=Ember.Route.extend(Yahara.ResetScroll,{model:function(e){return ic.ajax.request(ENV.HOST+"/artist/"+e.artistSlug)},setupController:function(e,t){this._super(e,t),Ember.isEmpty(t.songkick_artist_id)?e.set("songkick",null):ic.ajax.request(ENV.HOST+"/songkick/"+t.songkick_artist_id).then(function(t){e.set("songkick",JSON.parse(t))})}}),Yahara.CollectionRoute=Ember.Route.extend(Yahara.ResetScroll,{beforeModel:function(){this.controllerFor("application").get("notAuthorized")&&this.transitionTo("application")},setupController:function(e){var t=this.modelFor("application").albums,s=this.controllerFor("application").get("collection_ids"),a=t.filter(function(e){return s.contains(e.get("mprint.origin"))});e.set("content",a)}}),Yahara.PageRoute=Ember.Route.extend(Yahara.ResetScroll,{setupController:function(e,t){ic.ajax.request("/pages/"+t.page).then(function(t){e.set("model",t)})}}),Yahara.AlbumsIndexRoute=Ember.Route.extend(Yahara.ResetScroll,{}),Yahara.AlbumsShowRoute=Ember.Route.extend(Yahara.ResetScroll,{model:function(e){return this.modelFor("application").albums.findBy("slug",e.slug)}});